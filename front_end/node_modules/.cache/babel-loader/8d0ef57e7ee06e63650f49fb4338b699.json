{"ast":null,"code":"import _slicedToArray from\"/home/frank/React/project2/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useState}from'react';import Grid from'@material-ui/core/Grid';import Box from'@material-ui/core/Box';import{IconButton}from'@material-ui/core';import{makeStyles}from'@material-ui/core/styles';import PhotoCameraRoundedIcon from\"@material-ui/icons/PhotoCameraRounded\";import{useDispatch}from'react-redux';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var useStyles=makeStyles(function(theme){return{root:{height:\"100%\",textAlign:'center'},imgBox:{maxWidth:\"80%\",maxHeight:\"80%\",margin:\"auto\"},img:{height:\"inherit\",maxWidth:\"inherit\"},input:{display:\"none\"}};});var Camera=function Camera(){var classes=useStyles();var _useState=useState(\"\"),_useState2=_slicedToArray(_useState,2),source=_useState2[0],setSource=_useState2[1];var dispatch=useDispatch();var handleCapture=function handleCapture(e){if(e.target.files){if(e.target.files.length!==0){var file=e.target.files[0];var formData=new FormData();var newUrl=URL.createObjectURL(file);setSource(newUrl);formData.append(\"file\",file);//console.log(formData.get('file'));\ndispatch({type:'handleCapture',payload:formData});}}};return/*#__PURE__*/_jsx(\"div\",{className:classes.root,children:/*#__PURE__*/_jsx(Grid,{container:true,children:/*#__PURE__*/_jsxs(Grid,{item:true,xs:12,children:[source&&/*#__PURE__*/_jsx(Box,{display:\"flex\",justifyContent:\"center\",border:1,className:classes.imgBox,children:/*#__PURE__*/_jsx(\"img\",{src:source,alt:\"snap\",className:classes.img})}),/*#__PURE__*/_jsx(\"input\",{accept:\"image/*\",className:classes.input,id:\"icon-button-file\",type:\"file\",capture:\"environment\",onChange:function onChange(e){return handleCapture(e);}}),/*#__PURE__*/_jsx(\"label\",{htmlFor:\"icon-button-file\",children:/*#__PURE__*/_jsx(IconButton,{color:\"primary\",\"aria-label\":\"upload picture\",component:\"span\",children:/*#__PURE__*/_jsx(PhotoCameraRoundedIcon,{fontSize:\"large\",color:\"primary\"})})})]})})});};export default Camera;","map":{"version":3,"sources":["/home/frank/React/project2/src/components/camera/index.js"],"names":["React","useState","Grid","Box","IconButton","makeStyles","PhotoCameraRoundedIcon","useDispatch","useStyles","theme","root","height","textAlign","imgBox","maxWidth","maxHeight","margin","img","input","display","Camera","classes","source","setSource","dispatch","handleCapture","e","target","files","length","file","formData","FormData","newUrl","URL","createObjectURL","append","type","payload"],"mappings":"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","sourcesContent":["import React, { useState } from 'react';\nimport Grid from '@material-ui/core/Grid';\nimport Box from '@material-ui/core/Box';\nimport { IconButton } from '@material-ui/core';\nimport { makeStyles } from '@material-ui/core/styles';\nimport PhotoCameraRoundedIcon from \"@material-ui/icons/PhotoCameraRounded\";\nimport { useDispatch } from 'react-redux';\n\nconst useStyles = makeStyles((theme) => ({\n  root: {\n    height: \"100%\",\n    textAlign: 'center',\n  },\n  imgBox: {\n    maxWidth: \"80%\",\n    maxHeight: \"80%\",\n    margin: \"auto\"\n  },\n  img: {\n    height: \"inherit\",\n    maxWidth: \"inherit\",\n  },\n  input: {\n    display: \"none\"\n  }\n}));\n\nconst Camera = () => {\n\n  const classes = useStyles();\n  const [source, setSource] = useState(\"\");\n  const dispatch = useDispatch();\n\n  const handleCapture = (e) => {\n    if (e.target.files) {\n      if (e.target.files.length !== 0) {\n        const file = e.target.files[0];\n        const formData = new FormData();\n        const newUrl = URL.createObjectURL(file);\n        setSource(newUrl);\n        formData.append(\n          \"file\",\n          file\n        );\n        //console.log(formData.get('file'));\n        dispatch({ type: 'handleCapture', payload: formData });\n      }\n    }\n  };\n  \n  return (\n    <div className={classes.root}>\n      <Grid container>\n        <Grid item xs={12}>\n          { source &&\n            <Box display=\"flex\" justifyContent=\"center\" border={1} className={classes.imgBox}>\n              <img src={ source } alt={\"snap\"} className={classes.img}></img>\n            </Box> }\n          <input\n            accept=\"image/*\"\n            className={classes.input}\n            id=\"icon-button-file\"\n            type=\"file\"\n            capture=\"environment\"\n            onChange={(e) => handleCapture(e)}\n          />\n          <label htmlFor=\"icon-button-file\">\n            <IconButton\n              color=\"primary\"\n              aria-label=\"upload picture\"\n              component=\"span\"\n            >\n              <PhotoCameraRoundedIcon fontSize=\"large\" color=\"primary\" />\n            </IconButton>\n          </label>\n        </Grid>\n      </Grid>\n    </div>\n  );\n}\nexport default Camera;"]},"metadata":{},"sourceType":"module"}