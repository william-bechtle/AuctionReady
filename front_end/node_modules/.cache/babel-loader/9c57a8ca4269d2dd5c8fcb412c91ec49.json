{"ast":null,"code":"import\"./style.css\";import React from\"react\";import axios from\"axios\";import{useSelector}from'react-redux';import{useDispatch}from'react-redux';import{BrowserRouter as Router,Route,useNavigate,Link,Navigate}from\"react-router-dom\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var Logout=function Logout(){var dispatch=useDispatch();var navigate=useNavigate();dispatch({type:\"logout\"});var loginState=function loginState(a){console.log(a);dispatch({type:\"login\",payload:a});};var estateLot=function estateLot(b){console.log(b);dispatch({type:\"setEstate\",payload:b});};function onFormSubmit(event){event.preventDefault();var form=document.getElementById(\"form\");var _form$elements=form.elements,username=_form$elements.username,password=_form$elements.password;console.log(form.elements);var a={username:username.value,password:password.value};console.log(username.value,password.value);axios.post(\"http://localhost:9002/ownersverify\",{username:username.value,password:password.value}).then(function(res){console.log('Axios response: ',res.data);if(res.data==\"\"){alert(\"INVALID CREDENTIALS\");navigate(\"/\");}else{loginState(res.data);axios.post(\"http://localhost:9002/getestate\",{userid:res.data.id}).then(function(res2){console.log('Axios response: ',res2.data);if(res2.data==\"\"){navigate(\"/estate\");}else{estateLot(res2.data);navigate(\"/fullmanifest\");}},function(error){console.error(error);}).catch(function(error){return console.error(error);});}},function(error){console.error(error);}).catch(function(error){return console.error(error);});}return/*#__PURE__*/_jsx(\"div\",{className:true,children:/*#__PURE__*/_jsxs(\"div\",{className:\"row\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"col-lg-3\"}),/*#__PURE__*/_jsx(\"div\",{className:\"col-lg-6\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"wrapper\",children:[/*#__PURE__*/_jsx(\"small\",{className:\"text-danger\",children:\"You are logged out\"}),/*#__PURE__*/_jsxs(\"form\",{onSubmit:\"\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"\",children:\"Username\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",className:\"form-control\",name:\"username\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"\",children:\"Password\"}),/*#__PURE__*/_jsx(\"input\",{type:\"password\",className:\"form-control\",name:\"password\"})]}),/*#__PURE__*/_jsx(\"input\",{type:\"submit\",value:\"Login\",className:\"btn btn-dark btn-block\"})]})]})})]})});};export default Logout;","map":{"version":3,"sources":["C:/Users/wjbec/Documents/GitHub/Project2/front_end/src/components/logout/index.js"],"names":["React","axios","useSelector","useDispatch","BrowserRouter","Router","Route","useNavigate","Link","Navigate","Logout","dispatch","navigate","type","loginState","a","console","log","payload","estateLot","b","onFormSubmit","event","preventDefault","form","document","getElementById","elements","username","password","value","post","then","res","data","alert","userid","id","res2","error","catch"],"mappings":"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","sourcesContent":["import \"./style.css\";\r\nimport React from \"react\";\r\nimport axios from \"axios\";\r\nimport { useSelector } from 'react-redux';\r\nimport { useDispatch } from 'react-redux';\r\nimport {\r\n  BrowserRouter as Router,\r\n  Route,\r\n  useNavigate,\r\n  Link,\r\n  Navigate\r\n} from \"react-router-dom\";\r\n\r\nconst Logout = () => {\r\n\r\n  const dispatch = useDispatch();\r\n\r\n  const navigate = useNavigate();\r\n\r\n  dispatch({type: \"logout\"});\r\n\r\n  const loginState = (a) => {\r\n    console.log(a);\r\n    dispatch({type: \"login\", payload:a})\r\n    \r\n  };\r\n\r\n  const estateLot = (b) => {\r\n    console.log(b)\r\n    dispatch({type: \"setEstate\", payload:b})\r\n  };\r\n\r\n  function onFormSubmit(event) {\r\n    event.preventDefault()\r\n    const form = document.getElementById(\"form\");\r\n    const {username,password}= form.elements;\r\n    console.log(form.elements);\r\n    const a = {username: username.value, password: password.value }\r\n    console.log(username.value,password.value);\r\n    \r\n    axios.post(\"http://localhost:9002/ownersverify\", {\r\n        username : username.value,\r\n        password : password.value\r\n      })\r\n    .then( res => {\r\n      console.log( 'Axios response: ', res.data );\r\n      if (res.data == \"\") {\r\n        alert(\"INVALID CREDENTIALS\");\r\n        navigate(\"/\")\r\n      }\r\n      else {\r\n        loginState(res.data);\r\n        axios.post(\"http://localhost:9002/getestate\", {\r\n        userid: res.data.id\r\n      })\r\n    .then( res2 => {\r\n      console.log( 'Axios response: ', res2.data );\r\n      if (res2.data==\"\") {\r\n        navigate(\"/estate\")\r\n      }\r\n      else {\r\n        estateLot(res2.data);\r\n        navigate(\"/fullmanifest\")\r\n      }\r\n    }, (error) => {\r\n      console.error(error);\r\n    })\r\n    .catch(error => console.error(error))\r\n      }\r\n    }, (error) => {\r\n      console.error(error);\r\n    })\r\n    .catch(error => console.error(error))\r\n  }\r\n\r\n\r\n    return(\r\n        <div className>\r\n        <div className=\"row\">\r\n          <div className=\"col-lg-3\"></div>\r\n          <div className=\"col-lg-6\">\r\n            <div className=\"wrapper\">\r\n            <small className=\"text-danger\">{ \"You are logged out\" }</small>\r\n              <form onSubmit={ \"\" }> \r\n                <div className=\"form-group\">\r\n                  <label htmlFor=\"\">Username</label>\r\n                  <input\r\n                    type=\"text\"\r\n                    className=\"form-control\"\r\n                    name=\"username\"\r\n                  />\r\n                </div>\r\n  \r\n                <div className=\"form-group\">\r\n                  <label htmlFor=\"\">Password</label>\r\n                  <input\r\n                    type=\"password\"\r\n                    className=\"form-control\"\r\n                    name=\"password\"\r\n                  />\r\n                </div>\r\n  \r\n                <input\r\n                  type=\"submit\"\r\n                  value=\"Login\"\r\n                  className=\"btn btn-dark btn-block\"\r\n                />\r\n              </form>\r\n            </div>\r\n    \r\n          </div>\r\n        </div>\r\n      </div>\r\n    )\r\n}\r\nexport default Logout;"]},"metadata":{},"sourceType":"module"}