{"ast":null,"code":"import React from\"react\";import'./style.css';import{useSelector}from'react-redux';import{useDispatch}from'react-redux';import axios from\"axios\";import{BrowserRouter as Router,Route,useNavigate,Link,Navigate}from\"react-router-dom\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var InputForm=function InputForm(){var dispatch=useDispatch();var navigate=useNavigate();var b=useSelector(function(state){return state.item;});var estate=useSelector(function(state){return state.estate;});var storeImage=useSelector(function(state){return state.image;});var clearItemState=function clearItemState(){dispatch({type:\"clearItemFile\"});};function onClickHandle(event){event.preventDefault();//navigate(\"/fullmanifest\")\n};var sendFileName=function sendFileName(fileName){dispatch({type:\"setItemFile\",payload:fileName});};function onFormSubmit(event){event.preventDefault();axios.post(\"http://192.168.0.3:4000/images\",storeImage).then(function(res){console.log('Axios response: ',res);sendFileName(res.data);},function(error){console.error(error);}).catch(function(error){return console.error(error);});var form=document.getElementById(\"form\");var _form$elements=form.elements,lotno=_form$elements.lotno,category=_form$elements.category,numitems=_form$elements.numitems,description=_form$elements.description,estvalue=_form$elements.estvalue;var c=\"/images/\"+b;axios.post('http://192.168.0.3:9002/item',{estateid:estate.estateid,lotno:lotno.value,imagepath:c,description:description.value,category:category.value,price:estvalue.value,quantity:numitems.value}).then(function(response){console.log(response.data);clearItemState();dispatch({type:'clearStateImage'});//navigate(\"/fullmanifest\")\n}).catch(function(error){return console.error(error);});}return/*#__PURE__*/_jsx(\"div\",{className:\"wrapper\",children:/*#__PURE__*/_jsxs(\"form\",{onSubmit:onFormSubmit,id:\"form\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"form-row\",style:{margin:'auto'},children:[/*#__PURE__*/_jsxs(\"div\",{className:\"form-group col-sm-2\",style:{width:'70px'},children:[/*#__PURE__*/_jsx(\"label\",{for:\"lotno\",children:\"Lot No.\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",className:\"form-control\",name:\"lotno\",id:\"lotno\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-group col-sm-4\",style:{width:'215px'},children:[/*#__PURE__*/_jsx(\"label\",{for:\"category\",children:\"Category\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",className:\"form-control\",name:\"category\",id:\"category\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-group col-sm-2\",style:{width:'85px'},children:[/*#__PURE__*/_jsx(\"label\",{for:\"numitems\",children:\"No. Items\"}),/*#__PURE__*/_jsx(\"input\",{type:\"number\",className:\"form-control\",name:\"numitems\",id:\"numitems\"})]})]}),/*#__PURE__*/_jsx(\"div\",{className:\"form-row\",style:{margin:'auto'},children:/*#__PURE__*/_jsxs(\"div\",{className:\"form-group col-sm-8\",style:{width:'394px'},children:[/*#__PURE__*/_jsx(\"label\",{for:\"description\",children:\"Description\"}),/*#__PURE__*/_jsx(\"input\",{type:\"textarea\",className:\"form-control\",id:\"description\",style:{height:'80px',marginBottom:'0px'}})]})}),/*#__PURE__*/_jsx(\"div\",{className:\"form-row\",style:{margin:'auto'},children:/*#__PURE__*/_jsxs(\"div\",{className:\"form-group col-sm-8 text-center\",children:[/*#__PURE__*/_jsx(\"label\",{for:\"estvalue\",children:\"Value/Range\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",name:\"estvalue\",id:\"estvalue\",className:\"form-control\",style:{width:'200px',margin:'auto',marginTop:'0px'}})]})}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-row\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"form-group col-sm-4\",style:{width:'185px',margin:'auto'},children:/*#__PURE__*/_jsx(\"button\",{type:\"submit\",className:\"btn btn-dark btn-block\",children:\"Catalog\"})}),/*#__PURE__*/_jsx(\"div\",{className:\"form-group col-sm-4\",style:{width:'185px',margin:'auto'},children:/*#__PURE__*/_jsx(\"button\",{type:\"button\",className:\"btn btn-danger btn-block\",onClick:onClickHandle,children:\"Cancel\"})})]})]})});};export default InputForm;","map":{"version":3,"sources":["/home/frank/React/project2/src/components/input-form/index.js"],"names":["React","useSelector","useDispatch","axios","BrowserRouter","Router","Route","useNavigate","Link","Navigate","InputForm","dispatch","navigate","b","state","item","estate","storeImage","image","clearItemState","type","onClickHandle","event","preventDefault","sendFileName","fileName","payload","onFormSubmit","post","then","res","console","log","data","error","catch","form","document","getElementById","elements","lotno","category","numitems","description","estvalue","c","estateid","value","imagepath","price","quantity","response","margin","width","height","marginBottom","marginTop"],"mappings":"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","sourcesContent":["import React from \"react\";\nimport './style.css';\nimport { useSelector } from 'react-redux';\nimport { useDispatch } from 'react-redux';\nimport axios from \"axios\";\nimport {\n  BrowserRouter as Router,\n  Route,\n  useNavigate,\n  Link,\n  Navigate\n} from \"react-router-dom\";\n\n\n\nconst InputForm = () => {\n\n    const dispatch = useDispatch();\n\n    const navigate = useNavigate();\n\n    var b = useSelector(state => state.item);\n\n    const estate = useSelector(state => state.estate);\n    const storeImage = useSelector( state => state.image );\n\n    const clearItemState = () => {\n        dispatch({type: \"clearItemFile\"})\n      };\n\n    function onClickHandle(event){\n        event.preventDefault();\n        //navigate(\"/fullmanifest\")\n    };\n\n    const sendFileName = (fileName) => {\n        dispatch({type: \"setItemFile\", payload:fileName})\n    \n    };\n\n    function onFormSubmit(event){\n        event.preventDefault()\n\n        axios.post(\"http://192.168.0.3:4000/images\", storeImage)\n        .then( res => {\n            console.log( 'Axios response: ', res );\n            sendFileName(res.data)\n        }, (error) => {\n            console.error(error);\n        })\n        .catch(error => console.error(error));\n\n        const form = document.getElementById(\"form\");\n        const {lotno,category,numitems,description,estvalue}= form.elements;\n        let c = \"/images/\" + b;\n        axios.post('http://192.168.0.3:9002/item', {\n            estateid: estate.estateid,\n            lotno: lotno.value,\n            imagepath: c,\n            description: description.value,\n            category: category.value,\n            price: estvalue.value,\n            quantity: numitems.value\n    })\n        .then(response => {\n            console.log(response.data)\n            clearItemState();\n            dispatch({type: 'clearStateImage'})\n            //navigate(\"/fullmanifest\")\n        })\n        .catch(error => console.error(error));\n\n        \n\n    }\n\n    return (\n        <div className=\"wrapper\">\n        <form onSubmit={onFormSubmit} id=\"form\">\n            <div className=\"form-row\" style={{margin: 'auto'}}>\n                <div className=\"form-group col-sm-2\" style={{width: '70px'}}>\n                    <label for=\"lotno\">Lot No.</label>\n                    <input type=\"text\" className=\"form-control\" name=\"lotno\" id=\"lotno\" />\n                </div>\n                <div className=\"form-group col-sm-4\" style={{width: '215px'}}>\n                    <label for=\"category\">Category</label>\n                    <input type=\"text\" className=\"form-control\" name=\"category\" id=\"category\" />\n                </div>\n                <div className=\"form-group col-sm-2\" style={{width: '85px'}}>\n                    <label for=\"numitems\">No. Items</label>\n                    <input type=\"number\" className=\"form-control\" name=\"numitems\" id=\"numitems\" />\n                </div>\n            </div>\n            <div className=\"form-row\" style={{margin: 'auto'}}>\n                <div className=\"form-group col-sm-8\" style={{width: '394px'}}>\n                        <label for=\"description\">Description</label>\n                        <input type=\"textarea\" className=\"form-control\" id=\"description\" style={{height: '80px', marginBottom: '0px'}} />\n                </div>\n            </div>\n\n            <div className=\"form-row\" style={{margin: 'auto'}}>\n                <div className=\"form-group col-sm-8 text-center\">\n                    <label for=\"estvalue\">Value/Range</label>\n                    <input type=\"text\" name=\"estvalue\" id=\"estvalue\" className=\"form-control\" style={{width: '200px', margin: 'auto', marginTop: '0px'}} />\n                </div>\n            </div>\n            <div className=\"form-row\">\n                <div className=\"form-group col-sm-4\" style={{width: '185px', margin: 'auto'}}>\n                    <button type=\"submit\" className=\"btn btn-dark btn-block\">Catalog</button>\n                </div>\n                <div className=\"form-group col-sm-4\" style={{width: '185px', margin: 'auto'}}>\n                    <button type=\"button\" className=\"btn btn-danger btn-block\" onClick={onClickHandle}>Cancel</button>\n                </div>\n            </div>\n            \n        </form>\n        </div>\n    )\n}\nexport default InputForm;"]},"metadata":{},"sourceType":"module"}