{"ast":null,"code":"import\"./style.css\";import React from\"react\";import axios from\"axios\";import{useSelector}from'react-redux';import{useDispatch}from'react-redux';import{BrowserRouter as Router,Route,useNavigate,Link,Navigate}from\"react-router-dom\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var Login=function Login(){var dispatch=useDispatch();var navigate=useNavigate();dispatch({type:\"logout\"});var loginState=function loginState(a){console.log(a);dispatch({type:\"login\",payload:a});};var estateLot=function estateLot(b){console.log(b);dispatch({type:\"setEstate\",payload:b});};var setIP=function setIP(ip){console.log(ip);dispatch({type:\"setIP\",payload:ip});};function onFormSubmit(event){event.preventDefault();var form=document.getElementById(\"form\");var _form$elements=form.elements,username=_form$elements.username,password=_form$elements.password,IP=_form$elements.IP;var ipaddr=IP.value;setIP(ipaddr);console.log(form.elements);var a={username:username.value,password:password.value};console.log(username.value,password.value);var req=\"http://\"+ipaddr+\":9002/ownersverify\";if(ipaddr==\"\"){alert(\"PLEASE ENTER IP. THIS ALLOWS REQUESTS TO SERVERS TO EASILY HAPPEN\");navigate(\"/\");}console.log(req);axios.post(req,{username:username.value,password:password.value}).then(function(res){console.log('Axios response: ',res.data);if(res.data==\"\"){alert(\"INVALID CREDENTIALS\");navigate(\"/\");}else{console.log(res.data);loginState(res.data);console.log(res.data);if(res.data.username==\"auctioneer\"){req=\"http://\"+ipaddr+\":9002/getestatebyestate\";axios.post(req,{estateid:res.data.estate}).then(function(res2){console.log('Axios response: ',res2.data);if(res2.data==\"\"){navigate(\"/estate\");}else{estateLot(res2.data);navigate(\"/fullmanifest\");}},function(error){console.error(error);}).catch(function(error){return console.error(error);});}else{req=\"http://\"+ipaddr+\":9002/getestate\";axios.post(req,{userid:res.data.id}).then(function(res2){console.log('Axios response: ',res2.data);if(res2.data==\"\"){navigate(\"/estate2\");}else{estateLot(res2.data);navigate(\"/fullmanifest\");}},function(error){console.error(error);}).catch(function(error){return console.error(error);});}}},function(error){console.error(error);}).catch(function(error){return console.error(error);});}return/*#__PURE__*/_jsx(\"div\",{className:true,children:/*#__PURE__*/_jsxs(\"div\",{className:\"row\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"col-lg-3\"}),/*#__PURE__*/_jsx(\"div\",{className:\"col-lg-6\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"wrapper\",children:[/*#__PURE__*/_jsx(\"small\",{className:\"text-danger\",style:{color:\"#ffffff\"},children:\"\"}),/*#__PURE__*/_jsxs(\"form\",{onSubmit:onFormSubmit,id:\"form\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"\",children:\"Username\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",className:\"form-control\",name:\"username\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"\",children:\"Password\"}),/*#__PURE__*/_jsx(\"input\",{type:\"password\",className:\"form-control\",name:\"password\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"\",children:\"IP\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",className:\"form-control\",name:\"IP\"})]}),/*#__PURE__*/_jsx(\"input\",{type:\"submit\",value:\"Login\",className:\"btn btn-dark btn-block\"})]})]})})]})});};export default Login;","map":{"version":3,"sources":["/home/frank/React/project2/src/components/login/index.js"],"names":["React","axios","useSelector","useDispatch","BrowserRouter","Router","Route","useNavigate","Link","Navigate","Login","dispatch","navigate","type","loginState","a","console","log","payload","estateLot","b","setIP","ip","onFormSubmit","event","preventDefault","form","document","getElementById","elements","username","password","IP","ipaddr","value","req","alert","post","then","res","data","estateid","estate","res2","error","catch","userid","id","color"],"mappings":"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","sourcesContent":["import \"./style.css\";\nimport React from \"react\";\nimport axios from \"axios\";\nimport { useSelector } from 'react-redux';\nimport { useDispatch } from 'react-redux';\nimport {\n  BrowserRouter as Router,\n  Route,\n  useNavigate,\n  Link,\n  Navigate\n} from \"react-router-dom\";\n\nconst Login = () => {\n  const dispatch = useDispatch();\n\n  const navigate = useNavigate();\n\n  dispatch({type: \"logout\"});\n\n  const loginState = (a) => {\n    console.log(a);\n    dispatch({type: \"login\", payload:a})\n    \n  };\n\n  const estateLot = (b) => {\n    console.log(b)\n    dispatch({type: \"setEstate\", payload:b})\n  };\n\n  const setIP = (ip) => {\n    console.log(ip)\n    dispatch({type: \"setIP\", payload:ip})\n  };\n\n  function onFormSubmit(event) {\n    event.preventDefault()\n    const form = document.getElementById(\"form\");\n    const {username,password,IP}= form.elements;\n    const ipaddr = IP.value;\n    setIP(ipaddr);\n    console.log(form.elements);\n    const a = {username: username.value, password: password.value }\n    console.log(username.value,password.value);\n    let req = \"http://\" + ipaddr + \":9002/ownersverify\";\n    if (ipaddr ==\"\"){\n      alert(\"PLEASE ENTER IP. THIS ALLOWS REQUESTS TO SERVERS TO EASILY HAPPEN\");\n      navigate(\"/\")\n    }\n    console.log(req) \n    axios.post(req, {\n        username : username.value,\n        password : password.value\n      })\n    .then( res => {\n      console.log( 'Axios response: ', res.data );\n      if (res.data == \"\") {\n        alert(\"INVALID CREDENTIALS\");\n        navigate(\"/\")\n      }\n      else {\n        console.log(res.data)\n        loginState(res.data);\n        console.log(res.data)\n        if (res.data.username == \"auctioneer\") {\n        req = \"http://\" + ipaddr + \":9002/getestatebyestate\";\n        axios.post(req, {\n        estateid: res.data.estate\n      })\n    .then( res2 => {\n      console.log( 'Axios response: ', res2.data );\n      if (res2.data==\"\") {\n        navigate(\"/estate\")\n      }\n      else {\n        estateLot(res2.data);\n        navigate(\"/fullmanifest\")\n      }\n    }, (error) => {\n      console.error(error);\n    })\n    .catch(error => console.error(error))\n    }\n    else {\n      req = \"http://\" + ipaddr + \":9002/getestate\";\n      axios.post(req, {\n      userid: res.data.id\n    })\n  .then( res2 => {\n    console.log( 'Axios response: ', res2.data );\n    if (res2.data==\"\") {\n      navigate(\"/estate2\")\n    }\n    else {\n      estateLot(res2.data);\n      navigate(\"/fullmanifest\")\n    }\n  }, (error) => {\n    console.error(error);\n  })\n  .catch(error => console.error(error))\n    }\n  \n  }}, (error) => {\n      console.error(error);\n    })\n    .catch(error => console.error(error))\n  }\n \n\n\n    return(\n        <div className>\n        <div className=\"row\">\n          <div className=\"col-lg-3\"></div>\n          <div className=\"col-lg-6\">\n            <div className=\"wrapper\">\n            <small className=\"text-danger\" style={{ color: \"#ffffff\" }}>{ \"\" }</small>\n              <form onSubmit={onFormSubmit} id=\"form\"> \n                <div className=\"form-group\">\n                  <label htmlFor=\"\">Username</label>\n                  <input\n                    type=\"text\"\n                    className=\"form-control\"\n                    name=\"username\"\n                  />\n                </div>\n  \n                <div className=\"form-group\">\n                  <label htmlFor=\"\">Password</label>\n                  <input\n                    type=\"password\"\n                    className=\"form-control\"\n                    name=\"password\"\n                  />\n                </div>\n\n                <div className=\"form-group\">\n                  <label htmlFor=\"\">IP</label>\n                  <input\n                    type=\"text\"\n                    className=\"form-control\"\n                    name=\"IP\"\n                  />\n                </div>\n  \n                <input\n                  type=\"submit\"\n                  value=\"Login\"\n                  className=\"btn btn-dark btn-block\"\n                />\n              </form>\n            </div>\n    \n          </div>\n        </div>\n      </div>\n    )\n}\nexport default Login;"]},"metadata":{},"sourceType":"module"}