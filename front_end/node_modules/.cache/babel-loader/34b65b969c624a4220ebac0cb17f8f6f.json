{"ast":null,"code":"import _slicedToArray from\"/home/frank/React/project2/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useState,useEffect}from\"react\";import{useSelector}from'react-redux';import{useDispatch}from'react-redux';import axios from\"axios\";import Item from\"./item\";import{BrowserRouter as Router,Route,useNavigate,Link,Navigate}from\"react-router-dom\";import{jsx as _jsx}from\"react/jsx-runtime\";var Manifest=/*#__PURE__*/React.forwardRef(function(props,ref){var _useState=useState([]),_useState2=_slicedToArray(_useState,2),items=_useState2[0],setItems=_useState2[1];var navigate=useNavigate();var dispatch=useDispatch();var estate=useSelector(function(state){return state.estate;});var goback=useSelector(function(state){return state.goback;});var ip=useSelector(function(state){return state.ip;});var handleGoBack=function handleGoBack(){dispatch({type:'clearGoBack'});};useEffect(function(){if(goback==1){handleGoBack();navigate(\"/capturepage\");}var req=\"http://\"+ip+\":9002/getitems\";axios.post(req,{estateid:estate.estateid}).then(function(response){setItems(response.data);}).catch(function(error){return console.error(error);});});return/*#__PURE__*/_jsx(\"div\",{className:\"container\",ref:ref,children:/*#__PURE__*/_jsx(\"div\",{className:\"row\",children:items.map(function(item){return/*#__PURE__*/_jsx(Item,{data:item});})})});});export default Manifest;","map":{"version":3,"sources":["/home/frank/React/project2/src/components/manifest/index.js"],"names":["React","useState","useEffect","useSelector","useDispatch","axios","Item","BrowserRouter","Router","Route","useNavigate","Link","Navigate","Manifest","forwardRef","props","ref","items","setItems","navigate","dispatch","estate","state","goback","ip","handleGoBack","type","req","post","estateid","then","response","data","catch","error","console","map","item"],"mappings":"iJAAA,MAAOA,CAAAA,KAAP,EAAeC,QAAf,CAAwBC,SAAxB,KAAwC,OAAxC,CACA,OAASC,WAAT,KAA4B,aAA5B,CACA,OAASC,WAAT,KAA4B,aAA5B,CACA,MAAOC,CAAAA,KAAP,KAAkB,OAAlB,CACA,MAAOC,CAAAA,IAAP,KAAiB,QAAjB,CACA,OACIC,aAAa,GAAIC,CAAAA,MADrB,CAEIC,KAFJ,CAGIC,WAHJ,CAIIC,IAJJ,CAKIC,QALJ,KAMS,kBANT,C,2CASA,GAAMC,CAAAA,QAAQ,cAAGb,KAAK,CAACc,UAAN,CAAiB,SAAEC,KAAF,CAASC,GAAT,CAAkB,CAEhD,cAA0Bf,QAAQ,CAAC,EAAD,CAAlC,wCAAOgB,KAAP,eAAcC,QAAd,eAEA,GAAMC,CAAAA,QAAQ,CAAGT,WAAW,EAA5B,CAEA,GAAMU,CAAAA,QAAQ,CAAGhB,WAAW,EAA5B,CAEA,GAAMiB,CAAAA,MAAM,CAAGlB,WAAW,CAAC,SAAAmB,KAAK,QAAIA,CAAAA,KAAK,CAACD,MAAV,EAAN,CAA1B,CAEA,GAAME,CAAAA,MAAM,CAAGpB,WAAW,CAAC,SAAAmB,KAAK,QAAIA,CAAAA,KAAK,CAACC,MAAV,EAAN,CAA1B,CAEA,GAAMC,CAAAA,EAAE,CAAGrB,WAAW,CAAC,SAAAmB,KAAK,QAAIA,CAAAA,KAAK,CAACE,EAAV,EAAN,CAAtB,CAEA,GAAMC,CAAAA,YAAY,CAAG,QAAfA,CAAAA,YAAe,EAAM,CACvBL,QAAQ,CAAC,CAAEM,IAAI,CAAE,aAAR,CAAD,CAAR,CACH,CAFD,CAKAxB,SAAS,CAAC,UAAM,CACZ,GAAIqB,MAAM,EAAI,CAAd,CAAgB,CACZE,YAAY,GACZN,QAAQ,CAAC,cAAD,CAAR,CACH,CACD,GAAIQ,CAAAA,GAAG,CAAG,UAAYH,EAAZ,CAAiB,gBAA3B,CACAnB,KAAK,CAACuB,IAAN,CAAWD,GAAX,CAAgB,CACZE,QAAQ,CAAER,MAAM,CAACQ,QADL,CAAhB,EAGKC,IAHL,CAGU,SAAAC,QAAQ,CAAI,CACdb,QAAQ,CAACa,QAAQ,CAACC,IAAV,CAAR,CAEH,CANL,EAOKC,KAPL,CAOW,SAAAC,KAAK,QAAIC,CAAAA,OAAO,CAACD,KAAR,CAAcA,KAAd,CAAJ,EAPhB,EAQH,CAdQ,CAAT,CAkBA,mBACI,YAAK,SAAS,CAAC,WAAf,CAA4B,GAAG,CAAGlB,GAAlC,uBACA,YAAK,SAAS,CAAE,KAAhB,UAEQC,KAAK,CAACmB,GAAN,CAAU,SAAAC,IAAI,qBAAI,KAAC,IAAD,EAAM,IAAI,CAAEA,IAAZ,EAAJ,EAAd,CAFR,EADA,EADJ,CASH,CA9CgB,CAAjB,CA+CA,cAAexB,CAAAA,QAAf","sourcesContent":["import React, {useState,useEffect} from \"react\";\nimport { useSelector } from 'react-redux';\nimport { useDispatch } from 'react-redux';\nimport axios from \"axios\";\nimport Item from \"./item\";\nimport {\n    BrowserRouter as Router,\n    Route,\n    useNavigate,\n    Link,\n    Navigate\n  } from \"react-router-dom\";\n\n\nconst Manifest = React.forwardRef(( props, ref ) => {\n\n    const [items, setItems] = useState([])\n\n    const navigate = useNavigate();\n\n    const dispatch = useDispatch();\n\n    const estate = useSelector(state => state.estate);\n\n    const goback = useSelector(state => state.goback);\n\n    const ip = useSelector(state => state.ip);\n\n    const handleGoBack = () => {\n        dispatch({ type: 'clearGoBack'})\n    }\n\n\n    useEffect(() => {\n        if (goback == 1){\n            handleGoBack();\n            navigate(\"/capturepage\")\n        }\n        let req = \"http://\" + ip + \":9002/getitems\";\n        axios.post(req, {\n            estateid: estate.estateid\n        })\n            .then(response => {\n                setItems(response.data)\n                \n            })\n            .catch(error => console.error(error));\n    });\n\n    \n\n    return(\n        <div className=\"container\"  ref={ ref }>\n        <div className =\"row\">\n            {\n                items.map(item => <Item data={item} />)\n            }\n        </div>\n    </div>\n    )\n});\nexport default Manifest;"]},"metadata":{},"sourceType":"module"}